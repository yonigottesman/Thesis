
% Just write down your abstract here, no special commands necessary except for the \abstractEnglish{
% before this text is used and a closing } at the end of it

\abstractEnglish{
The emergence of high-speed, multi GB/s storage devices has shifted the performance bottleneck of storage virtualization to the software layers of the hypervisor. The hypervisor overheads can be avoided by allowing the virtual machine (VM) to directly access the storage device (a method known as direct device assignment), but this method voids all protection guarantees provided by  filesystem permissions, since the device has no notion of client isolation.
Recently, following the introduction of 10Gbs and higher networking interfaces, the PCIe specification was extended to include the Single Root IO Virtualization (SR-IOV) specification for self-virtualizing devices, which allows a single physical device to present multiple virtual interfaces on the PCIe interconnect. Using SR-IOV, a hypervisor can directly assign a virtual PCIe device interface to each of its VMs. However, as networking interfaces simply multiplex packets sent from/to different clients, the specification does not dictate the semantics of a virtual storage device and how to maintain data isolation in a self virtualizing device.


  In this research we present the self-virtualizing, nested storage controller (NeSC) architecture, which includes a filesystem-agnostic protection mechanism that enables the physical device to export files as virtual PCIe storage devices. The protection mechanism maps file offsets to physical blocks and thereby offloads the hypervisor's storage layer functionality to hardware.
  Using NeSC, a hypervisor can securely expose its files as virtual PCIe devices and directly assign them to VMs.
  We have prototyped a 1GB/s NeSC controller using a Virtex-7 FPGA development board connected to the PCIe interconnect. 
  Our evaluation of NeSC on a real system shows that NeSC virtual devices enable VMs to access to their data with near-native performance (in terms of both throughput and latency).

}

% Note that various commands don't work that well in Hebrew. Specifically,
% if you're using hyperref, you'll have trouble with \url, \autoref, \cite
% and friends. iitthesis-extra.sty has a workaround: the \disabledlinksL
% command. See the .sty for details, or:
% http://tex.stackexchange.com/q/32466/5640 for

\abstractHebrew{

 הופעתם של התקני אחסון מהירים גרמו לכך שצוואר הבקבוק בגישה למידע השמור מוזז משכבות החמרה לשכבות התכנה. בסביבות וירטואליות, שבהן גם רץ המנהל של המחשב המארח -\L{hypervisor}, וגם מכונה וירטואלית, שינוי זה מורגש אף יותר. על מנת למזער את התקורה של התכנה בזמן הגישה להתקן האחסון, ניתן לאפשר למכונה וירטואלית לגשת ישירות להתקן ללא התערבות ה - \L{hypervisor} ובכך להאיץ את זמן הגישה הכולל להתקן. אולם, גישה ישירה ללא התערבות ה - \L{hypervisor} מבטלת את מנגנוני ההגנה וההפרדה שמסופקים על ידי המערכת קבצים משום שלהתקן אין מושג של משתמשים - \L{clients}.
 
לאחרונה, עם הופעתם של כרטיסי רשת מהירים, הורחב תקן ה \L{PCIe} לכלול גם את תקן ה \L{SR-IOV} שמאפשר להתקני קלט/פלט לחשוף את עצמם כיותר מהתקן אחד במערכת. כל התקן יציג את עצמו כמספר התקנים וירטואליים והתקן אחד פיזי. בעזרת \L{SR-IOV} ה \L{hypervisor} יכול לאפשר לכל מכונה וירטואלית גישה ישירה לאחד ההתקנים הווירטואליים ובכך לשתף התקן אחד בין הרבה מכונות וירטואליות. אולם, כרטיסי רשת צריכים רק לנתב חבילות מ/אל המכונות וירטואליות בעוד שהתקני אחסון צריכים לשמור את המידע עצמו. \L{SR-IOV} אינו מגדיר כיצד התקן אמור לחלק את המקום אחסון בין המכונות הווירטואליות ואיך לדאוג להפרדה ואבטחה של המידע בין המכונות הווירטואליות. 

במחקר הזה נציג את ארכיטקטורת התקן האחסון תומך הווירטואליזציה \L{NeSC}, אשר כולל מנגנון אבטחה והפרדה מבוסס מערכת קבצים שמאפשר להתקן פיסי בודד לייצג מספר התקנים ווירטואליים בתור קבצים. מנגנון ההפרדה ממפה הסטים בקובץ לבלוקים פיסיים של זיכרון על ההתקן ובכך מוריד את הפונקציונליות של מערכת הקבצים מה \L{hypervisor} לחמרה.
על ידי שימוש ב \L{NeSC}, ה - \L{hypervisor} יכול לחשוף את הקבצים שלו בתור התקנים וירטואליים בצורה מאובטחת ואז לאפשר למכונות ווירטואליות גישה ישירה אליהם.
במחקר זה מימשנו אב טיפוס של הארכיטקטורה על גבי \L{FPGA} ומדדנו את הביצועים בסביבה אמיתית. התוצאות מראות ששימוש בארכיטקטורה משפרת את הביצועים של התקני אחסון במכונות וירטואליות עד כדי ביצועים של מכונה אמתית.


%כאן יבוא תקציר מורחב בעברית )כאשר שפת החיבור העיקרית היא אנגלית(. היקף התקציר יהיה \L{1000-2000} מילים. התקציר יהווה שלמות בפני עצמו ויהיה מובן לקורא בעל ידיעות כלליות בנושא.
%התקציר ייכתב במשפטים מקושרים שלמים, בדרך-כלל אין לציין בו מקורות ספרותיים וציטוטים. אין להתייחס למספר של פרק, סעיף, נוסחה, ציור או טבלה שבגוף החיבור, ואין להשתמש בקיצורים, סמלים ומונחים לא מקובלים, אלא אם יש בתקציר די מקום לזיהויים.
%אם צריך לשים קישור בתקציר העברי, )למשל לצורך ציטוט מקור, כאשר משתמשים גם ב-\L{\texttt{hyperref}} שיוצר קישורים בתוך ה-PDF עבור ציטוטי מקורות(, אפשר לעטוף אותו בתוך \L{{\textbackslash}L\{\}} , כך: \L{\cite{Hoeffding}}.



%תוכן מקוצר לגבי נושא מסוים.

%\subsection*{ארכיטקטורה}

%תוכן מקוצר לגבי נושא שני. התייחסות ל\emph{מושג} מסוים שהחיבור בוחן. וכולי וכולי.



\newpage 
\subsection*{מבנה המערכת}

\L{NeSC} מממש את תקן ה -\L{SR-IOV} ומאפשרת להתקן אחסון לחשוף למערכת מספר התקנים וירטואליים והתקן אחד פיסי. כל מכונה וירטואלית תקבל גישה ישירה להתקן וירטואלי שונה ובעזרת המערכת קבצים של ה-\L{hypervisor}, \L{NeSC} ידאג להפרדה של האחסון בין המכונות הווירטואליות.    
במערכת קבצים, לכל קובץ קיים טבלת מיפויים שממפה היסט בקובץ לכתובת פיזית על גבי התקן האחסון. בעזרת טבלאות המיפויים הללו ה - \L{hypervisor} דואג להפרדה ואבטחה של המידע המאוחסן על ידי הקצאה לכל מכונה וירטואלית קובץ שונה, וכך כל מכונה וירטואלית יכולה לגשת רק למידע שטבלת המיפויים של הקובץ שמוקצה לה מכילה. בארכיטקטורת \L{NeSC} הגישה למידע המאוחסן בהתקן נעשה ללא התערבות ה \L{hypervisor} ולכן  גישה לטבלת התרגום תעשה על ידי החומרה עצמה.
התקן \L{NeSC} חושף את עצמו למערכת כמספר התקנים וירטואליים, ואז ה – \L{hypervisor} מאפשר לכל מכונה וירטואלית גישה ישירה לאחד ההתקנים.  בנוסף, כל התקן וירטואלי מיוצג על ידי קובץ במערכת קבצים של ה - \L{hypervisor} ולכל קובץ טבלת מיפויים. כאשר מכונה ווירטואלית ניגשת להתקן וירטואלי, החומרה תתרגם את כתובת הגישה על ידי קריאה מטבלת המיפויים של אותו התקן, ורק לאחר מכן תבצע קריאה או כתיבה מהמידע המאוחסן בכתובת המתורגמת.

\subsection*{תוצאות}
למדידת ביצועי המערכת מימשנו אב טיפוס של \L{NeSC} על גבי \L{FPGA} , והשווינו בין גישה להתקן האחסון דרך \L{NeSC} לגישה דרך פרוטוקול \L{virtio}. התוצאות מראות שזמן הגישה הכולל להתקן קטן פי 5 כאשר משתמשים ב \L{NeSC}. התפוקה של כתיבות להתקן גדולה פי 3 ועבור קריאה פי 2 כאשר משתמשים ב\L{NeSC} .  


%\subsection*{מסקנות}
}

